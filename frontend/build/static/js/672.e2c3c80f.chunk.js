"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[672],{4094:function(e,n,t){var r=t(9569),s=t(3710),a=t(184);n.Z=function(e){var n=e.disableIfLoading,t=e.showPassword,i=e.setShowPassword;return(0,a.jsx)("span",{className:"input-group-text ".concat(n," btn btn-outline-info rounded-pill rounded-start"),onClick:function(){return i(!t)},children:t?(0,a.jsx)(r.Z,{}):(0,a.jsx)(s.Z,{})})}},9436:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(885),s=t(2791),a=t(4165),i=t(5861),o=t(4942),c=t(1413),l=t(2033),u=t(7689),d=t(6580),m=t(4094),p=t(8836),f=t(8400),g=t(2651),h=t(1130),b=t(9405),x=t(184),v=function(){var e=(0,b.C)(f.Pw),n=e.loading,t=e.disableIfLoading,v=e.formLabelClassName,w=e.formFieldClassName,j=e.inputFieldClassName,N=e.btnSubmitClassName,y=e.btnResetClassName,_=(0,b.T)(),P=(0,s.useState)(!1),C=(0,r.Z)(P,2),Z=C[0],S=C[1],F=(0,u.s0)(),k=(0,s.useState)({email:"",password:""}),I=(0,r.Z)(k,2),R=I[0],D=I[1],L=R.email,M=R.password,K=function(e){return function(n){D((0,c.Z)((0,c.Z)({},R),{},(0,o.Z)({},e,n.target.value)))}},A=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),L&&M){e.next=3;break}return e.abrupt("return",_((0,g.Km)({message:"Please Enter All the Fields",type:"warning",duration:5e3,position:"bottom-center"})));case 3:return _((0,f.K4)(!0)),t=(0,h.uZ)({}),e.prev=5,e.next=8,l.Z.post("/api/user/login",{email:L,password:M},t);case 8:r=e.sent,s=r.data,_((0,g.Km)({title:"Login Successful",message:"Your login session will expire in 15 days",type:"success",duration:5e3,position:"bottom-center"})),localStorage.setItem("loggedInUser",JSON.stringify(s)),_((0,p.yM)(s)),_((0,f.K4)(!1)),F("/chats"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),_((0,g.Km)({title:"Login Failed",message:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||e.t0.message,type:"error",duration:5e3,position:"bottom-center"})),_((0,f.K4)(!1));case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:"app__form user-select-none row",style:{pointerEvents:n?"none":"auto"},children:[(0,x.jsxs)("section",{className:"".concat(w," mb-2 col-md-6"),children:[(0,x.jsxs)("label",{htmlFor:"login__email",className:"".concat(v),children:["Email ID ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsx)("input",{type:"email",value:L,onChange:K("email"),required:!0,autoFocus:!0,name:"email",id:"login__email",className:"".concat(j),placeholder:"Used While Registering"})]}),(0,x.jsxs)("section",{className:"".concat(w," mb-4 col-md-6"),children:[(0,x.jsxs)("label",{htmlFor:"login__password",className:"".concat(v),children:["Password ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:Z?"text":"password",value:M,onChange:K("password"),required:!0,name:"password",id:"login__password",className:"".concat(j," rounded-end"),placeholder:"Hope You Remember"}),(0,x.jsx)(m.Z,{disableIfLoading:t,showPassword:Z,setShowPassword:S})]})]}),(0,x.jsxs)("section",{className:"".concat(w," mb-3 d-flex justify-content-between"),children:[(0,x.jsx)("button",{type:"submit",name:"btnLogin",id:"login__btnLogin",onClick:A,className:"".concat(N),children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing in..."]}):"Login"}),(0,x.jsx)("button",{type:"reset",name:"btnReset",id:"login__btnReset",onClick:function(e){e.preventDefault(),D({email:"",password:""})},className:"".concat(y),children:"Reset"})]})]})},w=(0,t(1245).Z)((0,x.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto"),j="https://res.cloudinary.com/practicaldev/image/fetc\u2026/361592/385c82bb-b96c-4cd6-83a3-ffea25be1d8d.jpeg",N=function(){var e=(0,b.C)(f.Pw),n=e.loading,t=e.disableIfLoading,v=e.formLabelClassName,N=e.formFieldClassName,y=e.inputFieldClassName,_=e.btnSubmitClassName,P=e.btnResetClassName,C=(0,b.T)(),Z=(0,u.s0)(),S=(0,s.useState)(!1),F=(0,r.Z)(S,2),k=F[0],I=F[1],R=(0,s.useRef)(),D=(0,s.useState)({name:"",email:"",password:"",confirmPassword:"",profilePic:"",profilePicUrl:j}),L=(0,r.Z)(D,2),M=L[0],K=L[1],A=M.name,O=M.email,T=M.password,E=M.confirmPassword,U=M.profilePic,q=M.profilePicUrl,z=function(e){return function(n){K((0,c.Z)((0,c.Z)({},M),{},(0,o.Z)({},e,n.target.value)))}},H=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,s,i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),A&&O&&T&&E){e.next=3;break}return e.abrupt("return",C((0,g.Km)({message:"Please Enter All the Fields",type:"warning",duration:3e3,position:"bottom-center"})));case 3:if(!(A.length>25)){e.next=5;break}return e.abrupt("return",C((0,g.Km)({message:"Name Must be Less than 25 characters",type:"warning",duration:3e3,position:"bottom-center"})));case 5:if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(O)){e.next=7;break}return e.abrupt("return",C((0,g.Km)({message:"Please Enter a Valid Email ID",type:"warning",duration:3e3,position:"bottom-center"})));case 7:if(T===E){e.next=9;break}return e.abrupt("return",C((0,g.Km)({message:"Passwords Do Not Match",type:"warning",duration:3e3,position:"bottom-center"})));case 9:return C((0,f.K4)(!0)),t=(0,h.uZ)({formData:!0}),(r=new FormData).append("profilePic",U),r.append("name",A),r.append("email",O),r.append("password",T),e.prev=16,e.next=19,l.Z.post("/api/user/register",r,t);case 19:s=e.sent,i=s.data,C((0,g.Km)({title:"Registration Successful",message:"Your login session will expire in 15 days",type:"success",duration:5e3,position:"bottom-center"})),localStorage.setItem("loggedInUser",JSON.stringify(i)),C((0,p.yM)(i)),C((0,f.K4)(!1)),Z("/chats"),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(16),C((0,g.Km)({title:"Registration Failed",message:(null===(o=e.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||e.t0.message,type:"error",duration:4e3,position:"bottom-center"})),C((0,f.K4)(!1));case 32:case"end":return e.stop()}}),e,null,[[16,28]])})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:"app__form user-select-none row ".concat(t),style:{pointerEvents:n?"none":"auto"},children:[(0,x.jsxs)("section",{className:"app__formfield position-relative mb-4",children:[(0,x.jsx)("img",{className:"userProfilePic img-fluid border border-2 border-primary rounded-circle mt-3",id:"register__imgProfile",src:q,alt:"profilePic"}),(0,x.jsx)("i",{id:"register__selectPic",className:"selectPicIcon position-absolute p-2 d-flex ".concat(t," justify-content-center align-items-center bg-success rounded-circle pointer"),onClick:function(){var e;n||null===R||void 0===R||null===(e=R.current)||void 0===e||e.click()},children:(0,x.jsx)(w,{className:"text-light fs-6"})}),(0,x.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){if(e&&e.target&&e.target.files){var n=e.target.files[0];if(n){if(!(0,h.CO)(n.name))return C((0,g.Km)({title:"Invalid Image File",message:"Please Select an Image File (png/jpg/jpeg/svg/webp)",type:"warning",duration:5e3,position:"bottom-center"}));if(n.size>=h.BO){if(!R||!R.current)return;return R.current.value="",C((0,g.Km)({message:"Please Select an Image Smaller than 2 MB",type:"warning",duration:3e3,position:"bottom-center"}))}K((0,c.Z)((0,c.Z)({},M),{},{profilePic:n,profilePicUrl:URL.createObjectURL(n)})),console.log(M)}}},name:"profilepic",id:"register__img_input",ref:R,className:"d-none"})]}),(0,x.jsxs)("section",{className:"".concat(N," mb-2 col-md-6 order-md-1"),children:[(0,x.jsxs)("label",{htmlFor:"register__username",className:"".concat(v),children:["Name ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsx)("input",{type:"text",value:A,onChange:z("name"),required:!0,name:"username",id:"register__username",className:"".concat(y),placeholder:"Eg: John Titor"})]}),(0,x.jsxs)("section",{className:"".concat(N," mb-2 col-md-6 order-md-3"),children:[(0,x.jsxs)("label",{htmlFor:"register__email",className:"".concat(v),children:["Email ID ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsx)("input",{type:"email",value:O,onChange:z("email"),required:!0,name:"email",id:"register__email",className:"".concat(y),placeholder:"Eg: john.titor@yahoo.com"})]}),(0,x.jsxs)("section",{className:"".concat(N," mb-2 col-md-6 order-md-2"),children:[(0,x.jsxs)("label",{htmlFor:"register__password",className:"".concat(v),children:["Password ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:k?"text":"password",value:T,onChange:z("password"),required:!0,name:"password",id:"register__password",className:"".concat(y," rounded-end"),placeholder:"Please Remember This"}),(0,x.jsx)(m.Z,{disableIfLoading:t,showPassword:k,setShowPassword:I})]})]}),(0,x.jsxs)("section",{className:"".concat(N," mb-4 col-md-6 order-md-4"),children:[(0,x.jsxs)("label",{htmlFor:"register__confirmpassword",className:"".concat(v),children:["Confirm Password ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:k?"text":"password",value:E,onChange:z("confirmPassword"),required:!0,name:"confirmpassword",id:"register__confirmpassword",className:"".concat(y," rounded-end"),placeholder:"Must Match the Above"}),(0,x.jsx)(m.Z,{disableIfLoading:t,showPassword:k,setShowPassword:I})]})]}),(0,x.jsxs)("section",{className:"".concat(N," mb-2 d-flex justify-content-between order-last"),children:[(0,x.jsx)("button",{type:"submit",name:"btnRegister",id:"register__btnRegister",onClick:H,className:"".concat(_),children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing Up..."]}):"Register"}),(0,x.jsx)("button",{type:"reset",name:"btnReset",id:"register__btnReset",onClick:function(e){e.preventDefault(),K({name:"",email:"",password:"",confirmPassword:"",profilePic:"",profilePicUrl:j}),R&&R.current&&(R.current.value="")},className:"".concat(P),children:"Reset"})]})]})},y=function(){var e=(0,b.C)(p.p_).loggedInUser,n=(0,b.C)(f.Pw).disableIfLoading,t=(0,s.useState)(!0),a=(0,r.Z)(t,2),i=a[0],o=a[1],c=(0,u.s0)();return(0,s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("loggedInUser"));e&&Date.now()<e.expiryTime&&c("/chats")}),[]),(0,x.jsx)(x.Fragment,{children:!e&&(0,x.jsxs)("section",{className:"homepage container-fluid d-flex flex-column p-4",children:[(0,x.jsx)("section",{className:"homepage__header container pt-0 pb-2 ps-1 pe-4 mb-2 user-select-none",children:(0,x.jsx)("span",{className:"d-inline-block mt-2",children:"G\xa0\xa0\xa0S\xa0\xa0\xa0G"})}),(0,x.jsxs)("section",{className:"app__body container p-2 mb-2 ".concat(n),children:[(0,x.jsxs)("div",{className:"container d-flex justify-content-between",children:[(0,x.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(i?"btn-warning":"text-light"," rounded-pill col m-1 ").concat(n),onMouseDown:function(){return o(!0)},children:"Login"}),(0,x.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(i?"text-light":"btn-warning"," rounded-pill col m-1 ").concat(n),onMouseDown:function(){return o(!1)},children:"Register"})]}),(0,x.jsx)("section",{className:"app__form container text-light p-2 ".concat(n),children:i?(0,x.jsx)(v,{}):(0,x.jsx)(N,{})})]})]})})}},9405:function(e,n,t){t.d(n,{C:function(){return s},T:function(){return a}});var r=t(9434),s=r.v9,a=r.I0},1130:function(e,n,t){t.d(n,{BO:function(){return g},CO:function(){return x},Ds:function(){return r},HP:function(){return l},Mq:function(){return m},SD:function(){return c},Y2:function(){return o},Zt:function(){return h},aS:function(){return a},uZ:function(){return p},ul:function(){return v},w3:function(){return u},wk:function(){return i},yW:function(){return b},zd:function(){return d}});var r=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2?arguments[2]:void 0;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}},s=function(e){var n={};return function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=JSON.stringify(r),i=n[a]||e.apply(void 0,r);return n[a]||(n[a]=i),i}},a=s((function(e,n,t){return e&&n&&t?e.length>n?"".concat(e.substring(0,t),"..."):e:""})),i=function(e,n,t){return e&&n&&t?e.split(" ").map((function(e){return e.length>n?"".concat(e.substring(0,t),"..."):e})).join(" "):""},o=s((function(e,n){var t;if(null!==n&&void 0!==n&&n.length&&e)return e._id!==(null===(t=n[0])||void 0===t?void 0:t._id)?n[0]:n[1]})),c=s((function(e){if(!e)return"";var n=e.getHours(),t=e.getMinutes(),r=n>=12?" pm":" am";return"".concat(n=0===n?12:n>12?n-12:n,":").concat(t<10?"0":"").concat(t).concat(r)})),l=s((function(e){return e?"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()):""})),u=function(e){if(!e)return"";var n=new Date,t=new Date(n.setTime(n.getTime()-864e5));return l(e)===l(new Date)?"Today":l(e)===l(t)?"Yesterday":"".concat(e.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear())},d=function(e){return(null===e||void 0===e?void 0:e.replaceAll("<br>","").replaceAll("&nbsp;"," ").replaceAll("<div>","").replaceAll("</div>","").trim())||""},m=function(e){var n;null===e||void 0===e||e.focus();var t=null===e||void 0===e?void 0:e.lastChild;if(t){console.log("lastTextNode",t);var r=(null===(n=t.textContent)||void 0===n?void 0:n.length)||0,s=document.createRange();s.setStart(t,r),s.setEnd(t,r);var a=window.getSelection();null===a||void 0===a||a.removeAllRanges(),null===a||void 0===a||a.addRange(s)}},p=function(e){if(e){var n=e.loggedInUser,t={headers:{"Content-Type":e.formData?"multipart/form-data":"application/json"}};return e.blob&&(t.responseType="blob"),n&&(t.headers.Authorization="Bearer ".concat(n.token)),t}},f=1048576,g=2097152,h=5242880,b=s((function(e){return e?e>f?(e/f).toFixed(1)+" MB":e>1024?(e/1024).toFixed(0)+" KB":e+" B":""})),x=s((function(e){return/(\.png|\.jpg|\.jpeg|\.svg|\.webp)$/.test(e)})),v=s((function(e){return/(\.png|\.jpg|\.jpeg|\.svg|\.gif|\.webp)$/.test(e)}))},2033:function(e,n,t){var r=t(4569),s=t.n(r);n.Z=s().create({baseURL:"http://10.10.13.229:3001"})},2554:function(e,n,t){t.d(n,{F4:function(){return a},iv:function(){return s}});t(2791),t(76),t(2110);var r=t(9140);t(2561);function s(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.O)(n)}var a=function(){var e=s.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},168:function(e,n,t){function r(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=672.e2c3c80f.chunk.js.map